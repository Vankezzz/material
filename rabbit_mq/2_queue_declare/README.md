`durable = True` - должно быть указано как в потребителе, так и в производителе. 
Обязательно надо пересоздать очередь, если она уже существует и без этой настройки.
В этот момент мы уверены, что очередь task_queue не будет потеряна, 
даже если RabbitMQ перезапустится. Т
еперь нам нужно пометить наши сообщения как постоянные, 
указав для свойства delivery_mode значение pika.spec.PERSISTENT_DELIVERY_MODE:
```python
channel.basic_publish(exchange= '' , 
                      routing_key= "task_queue" , 
                      body=message, 
                      properties=pika.BasicProperties( 
                         delivery_mode = pika.spec.PERSISTENT_DELIVERY_MODE 
                      ))
```

Пометка сообщений как постоянных не гарантирует, что сообщение не будет потеряно.
Хотя он сообщает RabbitMQ о необходимости сохранить сообщение на диск, 
все же остается короткий промежуток времени, когда RabbitMQ принял сообщение 
и еще не сохранил его. Кроме того, RabbitMQ не выполняет fsync(2) 
для каждого сообщения — оно может быть просто сохранено в кэше, 
а не записано на диск. Гарантии сохранения невелики,
но для нашей простой очереди задач этого более чем достаточно.
Если вам нужна более сильная гарантия, 
вы можете использовать подтверждение издателя.

`prefetch_count = 1` - указать RabbitMQ не отправлять больше одного сообщения рабочему потоку за раз
`TTL` - https://www.rabbitmq.com/ttl.html