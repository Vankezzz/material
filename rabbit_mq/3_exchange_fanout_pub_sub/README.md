# Описание
Данный пример демонстрирует подключение publisher/subscriber или fanout.
Все привязанные очереди к определенному exchange получают сообщения

> Особенностью данного примера является то, 
> что очереди объявляются с флагом exclusive=True и server-named именем очереди(внизу пример кода). 
> Особые очереди, которые имеют только одного потребителя
> (через соединение, которое их создало). Такие очереди удаляются сразу после того, как 
> объявляющее их соединение закрывается или исчезает (например, из-за основной потери TCP-соединения)
```
   result = channel.queue_declare(
       queue='',
       exclusive=True
   )
   queue_name = result.method.queue 
```
## Запуск примера
1. Запустить два экземпляра consumer в разных терминалах и убедиться в том, 
что они привязаны к разным queue с разными **server-named** именами. Можно также убедиться в UI
```shell
python.exe consumer.py
```
2. Открыть UI и вкладку Queues, там мы увидим две наши очереди. 
Попробуйте остановить один из consumer командой ctrl+c в терминале где он запушен, 
и уже после этого вы увидите как очередь созданная этим потребителем резко удалиться - это особенность exclusive queue
3. Запустить producer и наблюдать как сообщения равномерно распределяются между потребителями
```shell
python.exe producer.py
```